<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>CCfood - Exploer the best chinese restaurant!</title>
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 100%; margin: 20px; padding: 40px }
      #searchfd {width: 500px; height: 40px}
      #searchbt {width: 100px; height: 40px}
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcGiueJDs4Ge_Z2fuXCTEuyRaj-n0L-YQ">
    </script>
    <script type="text/javascript">
      function initialize() {
        var defPosition = new google.maps.LatLng(38.8808165,-77.102156);
        var mapOptions = {
          zoom: 12
        };
        var map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);
        //var maker = new google.maps.Marker({position: defPosition,});
        //maker.setMap(map);

        // HTML5 geolocation
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = new google.maps.LatLng(position.coords.latitude,
                                            position.coords.longitude);
            /* var infowindow = new google.maps.InfoWindow({
              map: map,
              position: pos,
              content: 'You are here!'
            }); */
            map.setCenter(pos);
            var maker = new google.maps.Marker({
              position: pos, 
              map: map, 
              title: 'You are here!'
            });
          },function() {
            handleNoGeolocation(true);
          });
        } else {
          handleNoGeolocation(false);
      }

      function handleNoGeolocation(errorFlag) {
        if(errorFlag) {
          var content = 'Error: The geolocation service failed.';
        } else {
          var content = 'Error: Your browser doesn\'t support geolocation.';
        }

        var options = {
          map: map,
          position: defPosition,
          content: content
        };

        var infowindow = new google.maps.InfoWindow(options);
        map.setCenter(options.position);
      }

      google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <input name="UserLoc" type="text" id="searchfd" size="20" placeholder="Your loaction" autocomplete="off">
    <input type="submit" value="Search" id="searchbt" size="20">
    <div id="map-canvas"/>
  </body>
</html>