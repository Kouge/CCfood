<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>CCfood - Exploer the best chinese restaurant!</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcGiueJDs4Ge_Z2fuXCTEuyRaj-n0L-YQ">
    </script>
    <script type="text/javascript">
      var defPosition = new google.maps.LatLng(38.8808165,-77.102156);
        
      // Resturant list
      var restList = [
        new google.maps.LatLng(38.8689155,-77.1506881);  // Chengduxiaoguan
        new google.maps.LatLng(38.9179158,-76.9706543);  // Shanbei
        new google.maps.LatLng(39.0944188,-77.1537503);  // Taipei Cafe
        new google.maps.LatLng(38.8699734,-77.1452468);  // XO taste
        new google.maps.LatLng(39.1190243,-77.1706429);  // Chuanlaichuanqu
       ];
        
      var markers = [];
      var iterator = 0;

      var map;

      function initialize() {
        var mapOptions = {
          zoom: 12,
          center: defPosition
        };
        var map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);
        var marker = new google.maps.Marker({
          position: defPosition,
          map: map;
          draggable: true
        });
      }

      function drop() {
        for (var i = 0; i < restList.length; i++) {
          setTimeout(function() {
            addMarker();
          }, i * 200);
        }
      }

      function addMarker() {
        markers.push(new google.maps.Marker({
          position: restList[iterator],
          map: map,
          draggable: false,
          animation: google.maps.Animation.DROP
        }));
        iterator++;
      }
        
      google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id="panel" style="margin-left: -52px">
      <button id="drop" onclick="drop()">Drop Markers</button>
     </div>
    <div id="map-canvas"></div>
  </body>
</html>
